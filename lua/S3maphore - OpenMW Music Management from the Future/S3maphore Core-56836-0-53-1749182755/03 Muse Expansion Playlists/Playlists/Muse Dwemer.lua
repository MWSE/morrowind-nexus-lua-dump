---@type IDPresenceMap
local DwemerEnemyNames = {
    ['centurion sphere'] = true,
    ['centurion spider'] = true,
    ['shock centurion'] = true,
    ['steam centurion'] = true,
    ['steam guardian'] = true,
    ['dwarven spectre'] = true,
    ['dahrk mezalf'] = true,
    ['hulking fabricant'] = true,
    ['verminous fabricant'] = true,
    ['imperfect'] = true,
    ['advanced steam centurion'] = true,
    ['centurion archer'] = true,
}

---@type ValidPlaylistCallback
local function dwarvenEnemyRule(playback)
    return playback.rules.combatTargetExact(DwemerEnemyNames)
end

---@type IDPresenceMap
local DwemerStaticIds = {
    ['aa22_in_dwrvpipegiant'] = true,
    ['ab_ex_dwrvalcovebc_01'] = true,
    ['ab_ex_dwrvalcovebc_02'] = true,
    ['ab_ex_dwrvalcovegl_01'] = true,
    ['ab_ex_dwrvalcovegl_02'] = true,
    ['ab_ex_dwrvalcoverm_01'] = true,
    ['ab_ex_dwrvalcoverm_02'] = true,
    ['ab_ex_dwrvalcovewg_01'] = true,
    ['ab_ex_dwrvalcovewg_02'] = true,
    ['ab_ex_dwrvbridgebrokebott'] = true,
    ['ab_ex_dwrvbridgebrokeside01'] = true,
    ['ab_ex_dwrvbridgebrokeside02'] = true,
    ['ab_ex_dwrvbridgebroketop'] = true,
    ['ab_ex_dwrvbridgecenter'] = true,
    ['ab_ex_dwrvbridgeendbroke'] = true,
    ['ab_ex_dwrvbridgerailing'] = true,
    ['ab_ex_dwrvbuildbuttress01'] = true,
    ['ab_ex_dwrvbuildbuttress02'] = true,
    ['ab_ex_dwrvbuildcorn'] = true,
    ['ab_ex_dwrvbuilddome'] = true,
    ['ab_ex_dwrvbuildentry'] = true,
    ['ab_ex_dwrvbuildroof256'] = true,
    ['ab_ex_dwrvbuildroof512'] = true,
    ['ab_ex_dwrvbuildside0256'] = true,
    ['ab_ex_dwrvbuildside0512'] = true,
    ['ab_ex_dwrvbuildside1024'] = true,
    ['ab_ex_dwrvbuildsideruin01'] = true,
    ['ab_ex_dwrvbuildsideruin02'] = true,
    ['ab_ex_dwrvbuildsideruin03'] = true,
    ['ab_ex_dwrvdigger'] = true,
    ['ab_ex_dwrvexhaust'] = true,
    ['ab_ex_dwrvoverlook'] = true,
    ['ab_ex_dwrvpipelava_01'] = true,
    ['ab_ex_dwrvplat01'] = true,
    ['ab_ex_dwrvroadedge01'] = true,
    ['ab_ex_dwrvroadedge01dirt'] = true,
    ['ab_ex_dwrvruin10intact'] = true,
    ['ab_ex_dwrvruin65intact'] = true,
    ['ab_ex_dwrvtower00intact'] = true,
    ['ab_ex_dwrvwindow01'] = true,
    ['ab_furn_dwrvbarrelcrushed'] = true,
    ['ab_furn_dwrvbarrelempty'] = true,
    ['ab_furn_dwrvbarrelemptywarp'] = true,
    ['ab_furn_dwrvbarrelexploded'] = true,
    ['ab_furn_dwrvbarrelfire'] = true,
    ['ab_furn_dwrvbarrellid'] = true,
    ['ab_furn_dwrvbarrelshortcrushed'] = true,
    ['ab_furn_dwrvbucket'] = true,
    ['ab_furn_dwrvbuckethang'] = true,
    ['ab_furn_dwrvcabshelfopen'] = true,
    ['ab_furn_dwrvcabstandopen'] = true,
    ['ab_furn_dwrvcabstandwideopen'] = true,
    ['ab_furn_dwrvcabwallopen'] = true,
    ['ab_furn_dwrvcabwallwideopen'] = true,
    ['ab_furn_dwrvcentsphere01'] = true,
    ['ab_furn_dwrvcentsphere02'] = true,
    ['ab_furn_dwrvcentsphere03'] = true,
    ['ab_furn_dwrvcentsphere04'] = true,
    ['ab_furn_dwrvcentsphere05'] = true,
    ['ab_furn_dwrvcentsteam01'] = true,
    ['ab_furn_dwrvcentsteam02'] = true,
    ['ab_furn_dwrvcrank'] = true,
    ['ab_furn_dwrvdesk01open'] = true,
    ['ab_furn_dwrvdesk02'] = true,
    ['ab_furn_dwrvdesk02top'] = true,
    ['ab_furn_dwrvdesk02topbroke'] = true,
    ['ab_furn_dwrvdrawer01'] = true,
    ['ab_furn_dwrvdrawer02'] = true,
    ['ab_furn_dwrvdrawer03'] = true,
    ['ab_furn_dwrvglassbroke00'] = true,
    ['ab_furn_dwrvglassbroke01'] = true,
    ['ab_furn_dwrvglassbroke02'] = true,
    ['ab_furn_dwrvglassbroke03'] = true,
    ['ab_furn_dwrvmachbeamlong'] = true,
    ['ab_furn_dwrvmachbeamprefab01'] = true,
    ['ab_furn_dwrvmachbeamprefab02'] = true,
    ['ab_furn_dwrvmachbeamshort'] = true,
    ['ab_furn_dwrvmachboxjunction'] = true,
    ['ab_furn_dwrvmachboxsml'] = true,
    ['ab_furn_dwrvmachcylinlong'] = true,
    ['ab_furn_dwrvmachcylinrib01'] = true,
    ['ab_furn_dwrvmachcylinrib02'] = true,
    ['ab_furn_dwrvmachcylinrib03'] = true,
    ['ab_furn_dwrvmachcylinshort'] = true,
    ['ab_furn_dwrvmachdisclrg'] = true,
    ['ab_furn_dwrvmachexhaust'] = true,
    ['ab_furn_dwrvmachflangel'] = true,
    ['ab_furn_dwrvmachflangelhalf'] = true,
    ['ab_furn_dwrvmachflangem'] = true,
    ['ab_furn_dwrvmachflangemhalf'] = true,
    ['ab_furn_dwrvmachflywheel01'] = true,
    ['ab_furn_dwrvmachflywheel02'] = true,
    ['ab_furn_dwrvmachpumplrg'] = true,
    ['ab_furn_dwrvmachshaftllong'] = true,
    ['ab_furn_dwrvmachshaftlshort'] = true,
    ['ab_furn_dwrvmachshaftslong'] = true,
    ['ab_furn_dwrvmachshaftsshort'] = true,
    ['ab_furn_dwrvmachshaftsupplrg'] = true,
    ['ab_furn_dwrvmachshaftsuppsml'] = true,
    ['ab_furn_dwrvmachstationlong'] = true,
    ['ab_furn_dwrvmachstationround'] = true,
    ['ab_furn_dwrvmachstationshort'] = true,
    ['ab_furn_dwrvmachsteamlrg'] = true,
    ['ab_furn_dwrvmachsteamsml'] = true,
    ['ab_furn_dwrvmachsupportsml'] = true,
    ['ab_furn_dwrvmachtankmid'] = true,
    ['ab_furn_dwrvmachtranhoushalf'] = true,
    ['ab_furn_dwrvmachtranhousqurt'] = true,
    ['ab_furn_dwrvmachtranwheels'] = true,
    ['ab_furn_dwrvmachturbine'] = true,
    ['ab_furn_dwrvnixiebroken'] = true,
    ['ab_furn_dwrvpanel00'] = true,
    ['ab_furn_dwrvshelfpiecelong'] = true,
    ['ab_furn_dwrvshelfpiecemid'] = true,
    ['ab_furn_dwrvshelfpieceshort'] = true,
    ['ab_furn_dwrvshelfstand01'] = true,
    ['ab_furn_dwrvshelfstand01half'] = true,
    ['ab_furn_dwrvshelfstand01quar'] = true,
    ['ab_furn_dwrvshelfstand02'] = true,
    ['ab_furn_dwrvshelfstandshort'] = true,
    ['ab_furn_dwrvspotlight01'] = true,
    ['ab_furn_dwrvstooltall'] = true,
    ['ab_furn_dwrvstove20'] = true,
    ['ab_furn_dwrvterrarium'] = true,
    ['ab_in_dwrvbuildcap'] = true,
    ['ab_in_dwrvbuildceil'] = true,
    ['ab_in_dwrvbuildcolumn'] = true,
    ['ab_in_dwrvbuildcorner'] = true,
    ['ab_in_dwrvbuilddoorjam'] = true,
    ['ab_in_dwrvbuildentry'] = true,
    ['ab_in_dwrvbuildhall'] = true,
    ['ab_in_dwrvbuildside'] = true,
    ['ab_in_dwrvbuildwall'] = true,
    ['ab_in_dwrvchaincat128'] = true,
    ['ab_in_dwrvchaincat3way'] = true,
    ['ab_in_dwrvchaincat4way'] = true,
    ['ab_in_dwrvchaincatcap'] = true,
    ['ab_in_dwrvchaincatcorn'] = true,
    ['ab_in_dwrvchaincatjunc'] = true,
    ['ab_in_dwrvchaincatstair'] = true,
    ['ab_in_dwrvchaincorr128'] = true,
    ['ab_in_dwrvchaincorr3way'] = true,
    ['ab_in_dwrvchaincorr4way'] = true,
    ['ab_in_dwrvchaincorrcap'] = true,
    ['ab_in_dwrvchaincorrcolmn'] = true,
    ['ab_in_dwrvchaincorrcorn'] = true,
    ['ab_in_dwrvchaincorrhang'] = true,
    ['ab_in_dwrvchaincorrstair'] = true,
    ['ab_in_dwrvchaincorrsupp'] = true,
    ['ab_in_dwrvchainfence01'] = true,
    ['ab_in_dwrvchainpanel'] = true,
    ['ab_in_dwrvchainround'] = true,
    ['ab_in_dwrvchainrounddj'] = true,
    ['ab_in_dwrvchainroundwall'] = true,
    ['ab_in_dwrvfound3way'] = true,
    ['ab_in_dwrvfound4way'] = true,
    ['ab_in_dwrvfoundbottom'] = true,
    ['ab_in_dwrvfoundcap'] = true,
    ['ab_in_dwrvfoundcorner'] = true,
    ['ab_in_dwrvfoundslope'] = true,
    ['ab_in_dwrvfoundstraight'] = true,
    ['ab_in_dwrvfoundturret'] = true,
    ['ab_in_dwrvgratepipe'] = true,
    ['ab_in_dwrvgratepipelng'] = true,
    ['ab_in_dwrvgratepipelngstm'] = true,
    ['ab_in_dwrvgratepipestm'] = true,
    ['ab_in_dwrvledge256'] = true,
    ['ab_in_dwrvledge256broke01'] = true,
    ['ab_in_dwrvledge256l'] = true,
    ['ab_in_dwrvledge256lbroke1'] = true,
    ['ab_in_dwrvledge256lbroke2'] = true,
    ['ab_in_dwrvledge512'] = true,
    ['ab_in_dwrvledge512broke1'] = true,
    ['ab_in_dwrvledgeplug'] = true,
    ['ab_in_dwrvledgerubble'] = true,
    ['ab_in_dwrvpipefit_c1'] = true,
    ['ab_in_dwrvpipefit_c1_cap'] = true,
    ['ab_in_dwrvpipefit_c1_txt'] = true,
    ['ab_in_dwrvpipefit_c2'] = true,
    ['ab_in_dwrvpipefit_c2_cap'] = true,
    ['ab_in_dwrvpipefit_c2_txt'] = true,
    ['ab_in_dwrvpipefit_grate'] = true,
    ['ab_in_dwrvpipefit_l'] = true,
    ['ab_in_dwrvpipefit_l_txt'] = true,
    ['ab_in_dwrvpipefit_n'] = true,
    ['ab_in_dwrvpipefit_n_cap'] = true,
    ['ab_in_dwrvpipefit_n_txt'] = true,
    ['ab_in_dwrvpipefit_o1'] = true,
    ['ab_in_dwrvpipefit_o2'] = true,
    ['ab_in_dwrvpipefit_o3'] = true,
    ['ab_in_dwrvpipefit_o4'] = true,
    ['ab_in_dwrvpipefit_o5'] = true,
    ['ab_in_dwrvpipefit_s'] = true,
    ['ab_in_dwrvpipefit_split1'] = true,
    ['ab_in_dwrvpipefit_split2'] = true,
    ['ab_in_dwrvpipefit_split3'] = true,
    ['ab_in_dwrvpipefit_split4'] = true,
    ['ab_in_dwrvpipefit_split5'] = true,
    ['ab_in_dwrvpipefit_s_txt'] = true,
    ['ab_in_dwrvpipefit_t'] = true,
    ['ab_in_dwrvpipefit_t_cap'] = true,
    ['ab_in_dwrvpipefit_t_txt'] = true,
    ['ab_in_dwrvpipefit_x'] = true,
    ['ab_in_dwrvpipefit_x_cap'] = true,
    ['ab_in_dwrvpipefit_xl'] = true,
    ['ab_in_dwrvpipefit_xl_txt'] = true,
    ['ab_in_dwrvpipefit_y_cap'] = true,
    ['ab_in_dwrvpipelava'] = true,
    ['ab_in_dwrvpipelrgelbow'] = true,
    ['ab_in_dwrvpipelrgfitting'] = true,
    ['ab_in_dwrvpipelrgflange'] = true,
    ['ab_in_dwrvpipelrgstrt1280'] = true,
    ['ab_in_dwrvpipelrgstrt320'] = true,
    ['ab_in_dwrvpipelrgstrt640'] = true,
    ['ab_in_dwrvpipeoil'] = true,
    ['ab_in_dwrvpipewater'] = true,
    ['ab_in_dwrvrailbroke'] = true,
    ['ab_in_dwrvrailcart'] = true,
    ['ab_in_dwrvrailcurve'] = true,
    ['ab_in_dwrvraillong'] = true,
    ['ab_in_dwrvrailshort'] = true,
    ['ab_in_dwrvrailslope'] = true,
    ['ab_in_dwrvroomceil3way'] = true,
    ['ab_in_dwrvroomceilcap'] = true,
    ['ab_in_dwrvroomceilcent'] = true,
    ['ab_in_dwrvroomceilcorn'] = true,
    ['ab_in_dwrvroomceilhall'] = true,
    ['ab_in_dwrvroomfloor096'] = true,
    ['ab_in_dwrvroomfloor192'] = true,
    ['ab_in_dwrvroomfloor384'] = true,
    ['ab_in_dwrvroomgratebroke'] = true,
    ['ab_in_dwrvroomgratecent'] = true,
    ['ab_in_dwrvroomgratecent256'] = true,
    ['ab_in_dwrvroomgratecorn'] = true,
    ['ab_in_dwrvroomgratecorn256'] = true,
    ['ab_in_dwrvroomgratecorncol'] = true,
    ['ab_in_dwrvroomgrateside'] = true,
    ['ab_in_dwrvroomgrateside256'] = true,
    ['ab_in_dwrvroomgratestairs'] = true,
    ['ab_in_dwrvroomround'] = true,
    ['ab_in_dwrvroomrounddj'] = true,
    ['ab_in_dwrvroomroundwall'] = true,
    ['ab_in_dwrvroomstairs'] = true,
    ['ab_in_dwrvroomwallcap'] = true,
    ['ab_in_dwrvroomwallcave'] = true,
    ['ab_in_dwrvroomwallcorn'] = true,
    ['ab_in_dwrvroomwallcorncol'] = true,
    ['ab_in_dwrvroomwallcornmini'] = true,
    ['ab_in_dwrvroomwallside'] = true,
    ['ab_in_dwrvroomwallside128'] = true,
    ['ab_in_dwrvroomwallside256'] = true,
    ['ab_in_dwrvroomwallsidehalf'] = true,
    ['ab_in_dwrvrubble01'] = true,
    ['ab_in_dwrvscaffcenter'] = true,
    ['ab_in_dwrvscaffladder'] = true,
    ['ab_in_dwrvscaffladderbroke'] = true,
    ['ab_in_dwrvscaffladdertop'] = true,
    ['ab_in_dwrvscafflong'] = true,
    ['ab_in_dwrvscafflongbroke'] = true,
    ['ab_in_dwrvscaffsteps'] = true,
    ['ab_in_dwrvscaffstepshalf'] = true,
    ['ab_in_dwrvscaffstepsshort'] = true,
    ['ab_in_dwrvscaffsupp'] = true,
    ['ab_in_dwrvscaffsuppbot'] = true,
    ['ab_in_dwrvscaffsupptop'] = true,
    ['ab_in_dwrvscaffsuppwall'] = true,
    ['ab_in_dwrvvat'] = true,
    ['ab_in_dwrvventfan'] = true,
    ['ab_in_dwrvwindow01'] = true,
    ['in_dwe_archway00_end'] = true,
    ['in_dwe_archway00_exp'] = true,
    ['in_dwe_corr2_00_exp'] = true,
    ['in_dwe_corr4_exp'] = true,
    ['in_dwe_end00_exp'] = true,
    ['in_dwe_hall00_exp'] = true,
    ['in_dwe_hall_enter_00'] = true,
    ['in_dwe_hall_wall00_bk'] = true,
    ['in_dwe_hall_wall00_exp'] = true,
    ['in_dwe_pillar00_exp'] = true,
    ['in_dwe_pill_bk00'] = true,
    ['in_dwe_pill_bk01'] = true,
    ['in_dwe_pill_bk02'] = true,
    ['in_dwe_pill_bk03'] = true,
    ['in_dwe_pipe00_exp'] = true,
    ['in_dwe_ramp00_exp'] = true,
    ['in_dwe_rod00_exp'] = true,
    ['in_dwe_rod01_exp'] = true,
    ['in_dwe_rubble00'] = true,
    ['in_dwe_rubble01'] = true,
    ['in_dwe_rubble02'] = true,
    ['in_dwe_slate00'] = true,
    ['in_dwe_slate01'] = true,
    ['in_dwe_slate02'] = true,
    ['in_dwe_slate03'] = true,
    ['in_dwe_slate04'] = true,
    ['in_dwe_slate05'] = true,
    ['in_dwe_slate06'] = true,
    ['in_dwe_slate07'] = true,
    ['in_dwe_slate08'] = true,
    ['in_dwe_slate09'] = true,
    ['in_dwe_slate10'] = true,
    ['in_dwe_slate11'] = true,
    ['in_dwe_turbine00_exp'] = true,
    ['in_dwe_utilcorr00_exp'] = true,
    ['in_dwe_utilcorr01_exp'] = true,
    ['in_dwe_weathmach00_exp'] = true,
    ['in_dwr_tower_int00'] = true,
    ['in_dwr_tower_int000'] = true,
    ['in_dwr_tower_int001'] = true,
    ['in_dwrv_corr1_00'] = true,
    ['in_dwrv_corr2_00'] = true,
    ['in_dwrv_corr2_01'] = true,
    ['in_dwrv_corr2_02'] = true,
    ['in_dwrv_corr2_03'] = true,
    ['in_dwrv_corr2_04'] = true,
    ['in_dwrv_corr3_00'] = true,
    ['in_dwrv_corr3_01'] = true,
    ['in_dwrv_corr3_02'] = true,
    ['in_dwrv_corr4_00'] = true,
    ['in_dwrv_corr4_01'] = true,
    ['in_dwrv_corr4_02'] = true,
    ['in_dwrv_corr4_03'] = true,
    ['in_dwrv_corr4_04'] = true,
    ['in_dwrv_corr4_05'] = true,
    ['in_dwrv_doorjam00'] = true,
    ['in_dwrv_door_static00'] = true,
    ['in_dwrv_enter00_dn'] = true,
    ['in_dwrv_gear00'] = true,
    ['in_dwrv_gear10'] = true,
    ['in_dwrv_gear20'] = true,
    ['in_dwrv_hall2_00'] = true,
    ['in_dwrv_hall3_00'] = true,
    ['in_dwrv_hall4_00'] = true,
    ['in_dwrv_hall4_01'] = true,
    ['in_dwrv_hall4_02'] = true,
    ['in_dwrv_hall4_03'] = true,
    ['in_dwrv_lift00'] = true,
    ['in_dwrv_obsrv00'] = true,
    ['in_dwrv_oilslick00'] = true,
    ['in_dwrv_scope00'] = true,
    ['in_dwrv_scope10'] = true,
    ['in_dwrv_scope20'] = true,
    ['in_dwrv_scope30'] = true,
    ['in_dwrv_scope40'] = true,
    ['in_dwrv_scope50'] = true,
    ['in_dwrv_shaft00'] = true,
    ['in_dwrv_shaft10'] = true,
    ['in_dwrv_wall00'] = true,
    ['in_dwrv_wall10'] = true,
    ['in_dwrv_wall_nchuleftingth1'] = true,
}

---@type ValidPlaylistCallback
local function dwemerStaticRule(playback)
    return not playback.state.isInCombat
        and not playback.state.cellIsExterior
        and playback.rules.staticExact(DwemerStaticIds)
end

local PlaylistPriority = require 'doc.playlistPriority'

---@type S3maphorePlaylist[]
return {
    {
        -- 'MUSE - Dwemer Ruins',
        id = 'ms/cell/dwemer',
        priority = PlaylistPriority.Tileset,
        randomize = true,

        isValidCallback = dwemerStaticRule,
    },
    {
        -- 'MUSE - Dwemer Enemies',
        id = 'ms/combat/dwemer',
        priority = PlaylistPriority.BattleMod,
        randomize = true,

        isValidCallback = dwarvenEnemyRule,
    },
}
