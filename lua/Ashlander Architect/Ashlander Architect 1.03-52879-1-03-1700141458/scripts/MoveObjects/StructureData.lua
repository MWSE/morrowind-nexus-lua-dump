
local vfs = require('openmw.vfs')

local ret =  {
    ["hlaaluhouse1"] = {
        ids = {
            [1] = { ["position"] = { ["y"] = -15018.928710938, ["z"] = 595.28875732422, ["x"] = -15090.603515625, }, ["id"] = "0x1007f6b", ["recordId"] = "ex_hlaalu_b_22", ["rotation"] = { ["y"] = 0, ["z"] = 1.570796251297, ["x"] = -0, }, ["scale"] = 1, },
            [2] = {
                ["position"] = {
                    ["y"] = -14812.461914063, ["z"] = 474.04281616211, ["x"] = -15398.766601563, },
                ["id"] = "0x100a0b1",
                ["recordId"] = "ex_hlaalu_dsteps_03",
                ["rotation"] = { ["y"] = 0, ["z"] = 1.5749999284744, ["x"] = -0, },
                ["scale"] = 1,
            },
            [3] = {
                ["position"] = {
                    ["y"] = -14954.958984375, ["z"] = 879.01098632813, ["x"] = -14956.748046875, },
                ["id"] = "0x1007f7e",
                ["teleport"] = {
                    ["position"] = { ["y"] = -16.680000305176, ["z"] = 227.66000366211, ["x"] = -247.75799560547, },
                    ["rotation"] = {
                        ["y"] = 0,
                        ["z"] = 1.570796251297,
                        ["x"] = -0,
                    },
                    ["cell"] = { ["name"] = "Balmora, Astius Hanotepelus' House", },
                    ["destDoor"] = {
                        ["position"] = { ["y"] = -14824.305664063, ["z"] = 865.55798339844, ["x"] = -14951.956054688, },
                        ["id"] = "0x100e0d7",
                        ["rotation"] = {
                            ["y"] = 0, ["z"] = 0, ["x"] = -0, },
                    },
                },
                ["recordId"] = "hlaalu_loaddoor_ 02",
                ["rotation"] = { ["y"] = 0, ["z"] = 3.1241393089294, ["x"] = -0, },
                ["scale"] = 1,
            },
            [4] = {
                ["position"] = {
                    ["y"] = -15484.384765625, ["z"] = 474.04299926758, ["x"] = -15396.245117188, },
                ["id"] = "0x100a0ad",
                ["recordId"] = "ex_hlaalu_dsteps_03",
                ["rotation"] = { ["y"] = 0, ["z"] = 1.5742869377136, ["x"] = -0, },
                ["scale"] = 1,
            },
            [5] = {
                ["position"] = {
                    ["y"] = -15485.938476563, ["z"] = 576.77697753906, ["x"] = -15278.150390625, },
                ["id"] = "0x1007f7c",
                ["teleport"] = {
                    ["position"] = { ["y"] = -230.20300292969, ["z"] = -17.472991943359, ["x"] = 203.2440032959, },
                    ["rotation"] = { ["y"] = 0, ["z"] = 0, ["x"] = -0, },
                    ["cell"] = {
                        ["name"] = "Balmora, Astius Hanotepelus' House", },
                    ["destDoor"] = { ["position"] = { ["y"] = -15478.737304688, ["z"] = 571.458984375, ["x"] = -15436.997070313, }, ["id"] = "0x100e0d6", ["rotation"] = { ["y"] = 0, ["z"] = -1.600466966629, ["x"] = -0, }, },
                },
                ["recordId"] = "hlaalu_loaddoor_ 02",
                ["rotation"] = { ["y"] = 0, ["z"] = 1.5498523712158, ["x"] = -0, },
                ["scale"] = 1,
            },
            [6] = {
                ["position"] = {
                    ["y"] = -15354.881835938, ["z"] = 613.62677001953, ["x"] = -15365.538085938, },
                ["id"] = "0x100a1a8",
                ["recordId"] = "furn_de_lightpost_01",
                ["rotation"] = { ["y"] = 0, ["z"] = 3.1336312294006, ["x"] = -0, },
                ["scale"] = 1,
            },
        },
        extCells = { { x = -2, y = -2 }, },
        interiors = { "Balmora, Astius Hanotepelus' House", },
    },
    ["hlaaluhouse2"] = {
        ids = {
            [1] = { ["id"] = "0x100580b", ["scale"] = 1, ["rotation"] = { ["y"] = 0, ["z"] = -0.01647025719285, ["x"] = -0, }, ["recordId"] = "ex_hlaalu_b_04", ["position"] = { ["y"] = -12440.01953125, ["z"] = 512, ["x"] = -15519.91015625, }, },
            [2] = {
                ["id"] = "0x100a0ae",
                ["scale"] = 1,
                ["rotation"] = {
                    ["y"] = 0, ["z"] = 0, ["x"] = -0, },
                ["recordId"] = "ex_hlaalu_dsteps_03",
                ["position"] = { ["y"] = -12750.24609375, ["z"] = 462.48620605469, ["x"] = -15752.80078125, },
            },
            [3] = {
                ["id"] = "0x100a0af",
                ["scale"] = 1,
                ["rotation"] = {
                    ["y"] = 0, ["z"] = -0.024999920278788, ["x"] = -0, },
                ["recordId"] = "ex_hlaalu_dsteps_03",
                ["position"] = { ["y"] = -12741.969726563, ["z"] = 462.48620605469, ["x"] = -15258.3046875, },
            },
            [4] = {
                ["id"] = "0x1007f7d",
                ["scale"] = 1,
                ["rotation"] = { ["y"] = 0, ["z"] = 1.7484555314695e-07, ["x"] = -0, },
                ["teleport"] = {
                    ["destDoor"] = {
                        ["id"] = "0x100dfef",
                        ["position"] = { ["y"] = -12789.999023438, ["z"] = 540.72222900391, ["x"] = -15262.940429688, },
                        ["rotation"] = {
                            ["y"] = 0,
                            ["z"] = -3.141592502594,
                            ["x"] = -0,
                        },
                    },
                    ["position"] = { ["y"] = -228.06986999512, ["z"] = 192, ["x"] = 163.09091186523, },
                    ["cell"] = { ["name"] = "Balmora, Caius Cosades' House", },
                    ["rotation"] = { ["y"] = 0, ["z"] = 0, ["x"] = -0, },
                },
                ["recordId"] = "hlaalu_loaddoor_ 02",
                ["position"] = { ["y"] = -12649.135742188, ["z"] = 564.63000488281, ["x"] = -15259.075195313, },
            },
        },
        extCells = { { x = -2, y = -2 }, },
        interiors = { "Balmora, Caius Cosades' House", },
    },
  
    ["hlaaluhouse3"] = {
        ids = {
            [1] = { ["id"] = "0x1007f78", ["scale"] = 1, ["rotation"] = { ["y"] = 0, ["z"] = 1.5254179239273, ["x"] = -0, }, ["recordId"] = "ex_hlaalu_b_16", ["position"] = { ["y"] = -12426.513671875, ["z"] = 330.33499145508, ["x"] = -16325.81640625, }, },
            [2] = {
                ["id"] = "0x1007fd9",
                ["scale"] = 1,
                ["rotation"] = {
                    ["y"] = 0, ["z"] = -0.050000015646219, ["x"] = -0, },
                ["recordId"] = "ex_hlaalu_bal_02",
                ["position"] = { ["y"] = -12318.2421875, ["z"] = 202.29904174805, ["x"] = -16736.25390625, },
            },
            [3] = {
                ["id"] = "0x1004a66",
                ["scale"] = 1,
                ["rotation"] = { ["y"] = 0, ["z"] = 1.5254179239273, ["x"] = -0, },
                ["teleport"] = {
                    ["destDoor"] = {
                        ["id"] = "0x1058a71",
                        ["position"] = { ["y"] = -12305.640625, ["z"] = 546.52301025391, ["x"] = -16670.16015625, },
                        ["rotation"] = {
                            ["y"] = 0,
                            ["z"] = -1.570796251297,
                            ["x"] = -0,
                        },
                    },
                    ["position"] = {
                        ["y"] = -43.095001220703,
                        ["z"] = 88.570999145508,
                        ["x"] = -185.25399780273,
                    },
                    ["cell"] = { ["name"] = "Balmora, Balyn Omarel's House", },
                    ["rotation"] = { ["y"] = 0, ["z"] = 0, ["x"] = -0, },
                },
                ["recordId"] = "hlaalu_loaddoor_ 02_balyn",
                ["position"] = { ["y"] = -12304.140625, ["z"] = 570.07501220703, ["x"] = -16501.46875, },
            },
            [4] = {
                ["id"] = "0x105f5a9",
                ["scale"] = 1,
                ["rotation"] = { ["y"] = 0, ["z"] = 0, ["x"] = -0, },
                ["teleport"] = {
                    ["destDoor"] = {
                        ["id"] = "0x105f5c1",
                        ["position"] = { ["y"] = -12591.32421875, ["z"] = 803.03112792969, ["x"] = -16357.73828125, },
                        ["rotation"] = {
                            ["y"] = 0,
                            ["z"] = -1.570796251297,
                            ["x"] = -0,
                        },
                    },
                    ["position"] = {
                        ["y"] = 93.531898498535,
                        ["z"] = 88.640625,
                        ["x"] = 115.67687225342,
                    },
                    ["cell"] = { ["name"] = "Balmora, Balyn Omarel's House", },
                    ["rotation"] = { ["y"] = 0, ["z"] = -3.0999982357025, ["x"] = -0, },
                },
                ["recordId"] = "ex_h_trapdoor_01",
                ["position"] = { ["y"] = -12597.002929688, ["z"] = 675.91400146484, ["x"] = -16157.532226563, },
            },
            [5] = {
                ["id"] = "0x1004a65",
                ["scale"] = 1,
                ["rotation"] = { ["y"] = 0, ["z"] = 1.5254179239273, ["x"] = -0, },
                ["teleport"] = {
                    ["destDoor"] = {
                        ["id"] = "0x100e175",
                        ["position"] = { ["y"] = -12319.23046875, ["z"] = 258.85000610352, ["x"] = -16741.384765625, },
                        ["rotation"] = {
                            ["y"] = 0,
                            ["z"] = -1.570796251297,
                            ["x"] = -0,
                        },
                    },
                    ["position"] = { ["y"] = -166.51600646973, ["z"] = 128, ["x"] = -134.33700561523, },
                    ["cell"] = { ["name"] = "Balmora, Rarayn Radarys' House", },
                    ["rotation"] = { ["y"] = 0, ["z"] = 1.300270318985, ["x"] = -0, },
                },
                ["recordId"] = "hlaalu_loaddoor_ 02",
                ["position"] = { ["y"] = -12304.993164063, ["z"] = 311.6669921875, ["x"] = -16534.421875, },
            },
            [6] = {
                ["id"] = "0x100850a",
                ["scale"] = 1,
                ["rotation"] = { ["y"] = 0, ["z"] = 1.5242377519608, ["x"] = -0, },
                ["recordId"] = "ex_hlaalu_win_01",
                ["position"] = { ["y"] = -12420.732421875, ["z"] = 591.85455322266, ["x"] = -16580.724609375, },
            },
        },
        extCells = { { x = -2, y = -2 }, { x = -3, y = -2 }, },
        interiors = { "Balmora, Balyn Omarel's House", "Balmora, Rarayn Radarys' House", },
    },
    ["impkeep2"] = {
        ids = {
            [1] = { ["id"] = "0x101e66b", ["recordId"] = "ex_imp_keep_02", ["scale"] = 1, ["position"] = { ["z"] = 860, ["x"] = 8541.87890625, ["y"] = -101210.015625, }, ["rotation"] = { ["z"] = 0, ["x"] = -0, ["y"] = 0, }, },
          
           [2] = {
                ["id"] = "0x101eb0f",
                ["recordId"] = "ex_imp_kdoorframe_01",
                ["scale"] = 1,
                ["position"] = { ["z"] = 1398.4978027344, ["x"] = 8706.04296875, ["y"] = -100746.9765625, },
                ["rotation"] = { ["z"] = -3.1415920257568, ["x"] = -0, ["y"] = 0, },
            },
            [3] = {
                ["teleport"] = {
                    ["cell"] = {
                        ["name"] = "Ebonheart, Imperial Chapels", },
                    ["destDoor"] = { ["id"] = "0x101f8e6", ["position"] = { ["z"] = 1393.1459960938, ["x"] = 8703.8291015625, ["y"] = -100680.546875, }, ["rotation"] = { ["z"] = 0, ["x"] = -0, ["y"] = 0, }, },
                    ["position"] = {
                        ["z"] = 89.542999267578,
                        ["x"] = -2.3229999542236,
                        ["y"] = -11.84700012207,
                    },
                    ["rotation"] = { ["z"] = -3.141592502594, ["x"] = -0, ["y"] = 0, },
                },
                ["id"] = "0x101eb0e",
                ["recordId"] = "ex_imp_loaddoor_03",
                ["scale"] = 1,
                ["position"] = { ["z"] = 1404, ["x"] = 8705.87890625, ["y"] = -100814.015625, },
                ["rotation"] = { ["z"] = -3.141592502594, ["x"] = -0, ["y"] = 0, },
            },
            [4] = {
                ["id"] = "0x10205ad",
                ["recordId"] = "furn_com_lantern_hook",
                ["scale"] = 1,
                ["position"] = { ["z"] = 1434.6552734375, ["x"] = 8617.501953125, ["y"] = -100774.890625, },
                ["rotation"] = { ["z"] = -2.4215965270996, ["x"] = -0, ["y"] = 0, },
            },
            [5] = {
                ["id"] = "0x10205ae",
                ["recordId"] = "furn_com_lantern_hook",
                ["scale"] = 1,
                ["position"] = { ["z"] = 1434.6730957031, ["x"] = 8799.93359375, ["y"] = -100770.625, },
                ["rotation"] = { ["z"] = 2.4515943527222, ["x"] = -0, ["y"] = 0, },
            },
        },
        extCells = { { x = 1, y = -13 }, },
        interiors = { "Ebonheart, Imperial Chapels", },
    }
}

local function removeFileExtension(filename)
    local lastDotPos = filename:match(".*()%.")

    if lastDotPos then
        return filename:sub(1, lastDotPos - 1)
    else
        return filename
    end
end
local function getCellCache()
    local files = {}
    for fileName in vfs.pathsWithPrefix("scripts\\MoveObjects\\data\\structuregen") do
        local tbl = require(removeFileExtension(fileName))
        for key, value in pairs(tbl) do
            ret[key] = value
        end
    end
    return files
end
getCellCache()

return ret